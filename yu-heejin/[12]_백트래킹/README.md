> 해를 찾는 도중 해가 절대 될 수 없다고 판단되면, 되돌아가서 해를 다시 찾아가는 기법
> 

# 12-1 백트래킹과 백트래킹 알고리즘 개념

## 백트래킹이란?

예를 들어, 출근하기 위해 아파트를 나섰는데 지하철 개찰구에 도착해서야 지갑을 두고 나온 사실을 알았다고 가정하자. 그러면 우선 아파트로 돌아갈 것이다. 집으로 가 방을 하나씩 보면서 물건을 찾을 것이다. 혹시라도 옆 집의 문 앞에 선 경우라도 금방 우리집이 아니라는 생각으로 뒤로 돌아 우리 집으로 향할 것이다.

이렇듯 **어떤 가능성이 없는 곳을 알아보고 되돌아가는 것을 백트래킹(Backtracking)이라고 한다.**

## 백트래킹 알고리즘이란?

답을 찾는 과정에서 가능성이 없는 곳에서는 백트래킹한다.

백트래킹 알고리즘은 문제마다 효율이 달라지므로 시간 복잡도를 특정해 정의하기 어렵다. 하지만 **백트래킹을 통해 해가 될 가능성이 없는 탐색 대상을 배제할 수 있기 때문에 탐색 효율이 단순히 완전 탐색하는 방법보다 백트래킹이 효율적이다.**

깊이 우선 탐색(DFS)도 더 이상 탐색할 경로가 없을 때 백트래킹을 활용한다. 백트래킹 알고리즘에서는 해가 있을 가능성이 없을 경우 백트래킹을 활용한다.

## 유망 함수란?

백트래킹 알고리즘의 핵심은 ‘해가 될 가능성을 판단하는 것’이다. 그리고 그 가능성은 유망 함수라는 것을 정의해 판단한다. 실제로 백트래킹 알고리즘은 아래와 같은 과정으로 진행된다.

1. 유효한 해의 집합을 정의한다.
2. 위 단계에서 정의한 집합을 그래프로 표현한다.
3. 유망 함수를 정의한다.
4. 백트래킹 알고리즘을 활용해서 해를 찾는다.

### 합이 6을 넘는 경우 알아보기

`{1, 2, 3, 4}` 중 2개의 숫자를 뽑아서 합이 **6을 초과하는 경우**를 알아내는 백트래킹 알고리즘을 알아보자. 뽑는 순서가 다르면 다른 경우의 수로 간주한다. 예를 들어, `{1, 3}`과 `{3, 1}`의 합은 각각 4로 같지만 서로 다른 경우의 수이다.

**01단계**

유효한 해의 집합을 정의한다. 서로 다른 두 수를 뽑는 경우의 수는 다음과 같다.

**02단계**

정의한 해의 집합을 그래프로 표현한다.

**03단계**

그래프에서 백트래킹을 수행한다. 여기서는 **‘처음에 뽑은 숫자가 3 미만이면 백트래킹 한다’**라는 전략을 사용한다. 다시 말해 1과 2를 처음에 뽑으면 이후에 어떤 경로로 가도 원하는 답이 나올 수 없으므로 **1, 2는 아예 탐색을 시도하지 않는다. 이렇게 특정 조건을 정의하는 것을 유망 함수(promising function)를 정의한다고 한다.**

**04단계**

3은 유망 함수를 통과한다. 참고로 1, 2는 유망 함수와는 상관없이 깊이 우선 탐색 알고리즘에 의해 방문하지만 답이 아니므로 백트래킹 하는 것이다. 그 이후 3 → 4로 가야 답을 찾을 수 있다.

**05단계**

이와 같은 방식으로 나머지도 탐색을 진행하면 된다.

---

# 12-2 몸풀기 문제

## 문제 43 1부터 N까지 숫자 중 합이 10이 되는 조합 구하기

정수 N을 입력받아 1부터 N까지의 숫자 중에서 합이 10이 되는 조합을 리스트로 반환하는 solution 함수를 작성하세요.

### 문제 분석하고 풀기

- 조합한 숫자의 합이 10이 되면 해당 조합을 결과 리스트에 추가한다.
- 조합한 숫자의 합이 10보다 크면 백트래킹(유망 함수 조건)

## 문제 44 스도쿠 퍼즐